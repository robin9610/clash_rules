# Robin的规则 - Stash配置文件
# 最后更新时间: 2025-10-22 66:00:00
# Author: Robin
# Repo: https://github.com/robin9610/clash_rules


# 规则模式：rule（规则） / global（全局代理）/ direct（全局直连）
mode: rule

# 日志级别: silent / info / warning / error / debug
log-level: info

# > 订阅信息展示
subscribe-url: 

# DNS配置
dns:
  # 默认的域名解析服务器
  nameserver: 
    - 223.5.5.5
    - 119.29.29.29
  # fake ip 白名单列表'以下地址不会下发fakeip映射用于连接
  fake-ip-filter:
    - '+.lan'
    - '+.local'
    - '+.msftconnecttest.com'
    - '+.msftncsi.com'
    - 'localhost.ptlogin2.qq.com'
    - 'localhost.sec.qq.com'
    - 'localhost.work.weixin.qq.com'
    - 'time.*.com'
    - 'ntp.*.com'
    - '+.market.xiaomi.com'
    - '+.vanch.fun'
    - '+.ipw.cn'
    - '+.cmpassport.com'
    - 'id6.me'
    - 'open.e.189.cn'
    - 'mdn.open.wo.cn'
    - 'opencloud.wostore.cn'
    - 'auth.wosms.cn'
    - '+.10099.com.cn'

# > 远程服务器订阅
proxy-providers:
  Subscribe:
    type: http
    interval: 86400
    url: http://your-service-provider
    benchmark-timeout: 5
    benchmark-url: http://www.apple.com/generate_204

# 代理组配置
proxy-groups:
  # 地区选择
  - name: 地区选择 🌍
    type: select
    proxies:
      - 自动选择 📡
      - 手动选择 👌
      - 香港节点 🇭🇰
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 台湾节点 🇨🇳
      - 新加坡节点 🇸🇬
      - 韩国节点 🇰🇷
      - 冷门地区 ❄️
      - 全局直连 🏠
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Area.png

  # 冷门地区
  - name: 冷门地区 ❄️
    type: select
    use:
      - Subscribe
    proxies:
      - 全局直连 🏠
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/World_Map.png

  # 手动选择
  - name: 手动选择 👌
    type: select
    use:
      - Subscribe
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png

  # 人工智能
  - name: 人工智能 🤖
    type: select
    proxies:
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 新加坡节点 🇸🇬
      - 地区选择 🌍
      - 手动选择 👌
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bot.png

  # 巴哈姆特
  - name: 巴哈姆特 📺
    type: select
    proxies:
      - 台湾节点 🇨🇳
      - 地区选择 🌍
      - 手动选择 👌
      - 全局直连 🏠
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bahamut.png

  # 谷歌服务
  - name: 谷歌服务 🇺🇸
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 香港节点 🇭🇰
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 台湾节点 🇨🇳
      - 新加坡节点 🇸🇬
      - 韩国节点 🇰🇷
      - 冷门地区 ❄️
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png

  # 蒸汽平台
  - name: 蒸汽平台 🎮
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 香港节点 🇭🇰
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 台湾节点 🇨🇳
      - 新加坡节点 🇸🇬
      - 韩国节点 🇰🇷
      - 冷门地区 ❄️
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Steam.png

  # 奈飞服务
  - name: 奈飞服务 📺
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 香港节点 🇭🇰
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 台湾节点 🇨🇳
      - 新加坡节点 🇸🇬
      - 韩国节点 🇰🇷
      - 冷门地区 ❄️
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png

  # 电报服务
  - name: 电报服务 💬
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 香港节点 🇭🇰
      - 日本节点 🇯🇵
      - 美国节点 🇺🇸
      - 台湾节点 🇨🇳
      - 新加坡节点 🇸🇬
      - 韩国节点 🇰🇷
      - 冷门地区 ❄️
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

  # 微软服务
  - name: 微软服务 Ⓜ️
    type: select
    proxies:
      - 全局直连 🏠
      - 地区选择 🌍
      - 手动选择 👌
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

  # 苹果服务
  - name: 苹果服务 🍎
    type: select
    proxies:
      - 全局直连 🏠
      - 地区选择 🌍
      - 手动选择 👌
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_1.png

  # 全局直连
  - name: 全局直连 🏠
    type: select
    proxies:
      - DIRECT
      - REJECT
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Direct.png

  # 全局拦截
  - name: 全局拦截 🚧
    type: select
    proxies:
      - REJECT
      - DIRECT
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png

  # 漏网之鱼
  - name: 漏网之鱼 🐟
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 全局直连 🏠
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

  # GLOBAL
  - name: GLOBAL
    type: select
    proxies:
      - 地区选择 🌍
      - 手动选择 👌
      - 全局直连 🏠
      - 自动选择 📡
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

  # 自动选择
  - name: 自动选择 📡
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png

  # 香港节点
  - name: 香港节点 🇭🇰
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)港|HK|Hong Kong|HongKong|🇭🇰'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

  # 台湾节点
  - name: 台湾节点 🇨🇳
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)台|TAIWAN|TW|TAI WAN|🇹🇼'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png

  # 美国节点
  - name: 美国节点 🇺🇸
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)United States|America|USA|US|🇺🇸|美国'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

  # 日本节点
  - name: 日本节点 🇯🇵
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)JP|🇯🇵|日本|Japan'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png

  # 新加坡节点
  - name: 新加坡节点 🇸🇬
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)SG|🇸🇬|新加坡|Singapore'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

  # 韩国节点
  - name: 韩国节点 🇰🇷
    type: url-test
    interval: 300
    tolerance: 15
    timeout: 3000
    url: https://www.google.com/generate_204
    lazy: true
    include-all: true
    filter: '(?i)韩国|KR|Korea|KOR|🇰🇷'
    icon: https://ghproxy.net/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png

# 规则集配置
rule-providers:
  # DNS泄露防护
  prevent_dns_leak:
    type: http
    format: text
    behavior: domain
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/xishang0128/rules/main/clash%20or%20stash/prevent_dns_leak/prevent_dns_leak_domain.list
    path: ./ruleset/prevent_dns_leak_domain.yaml

  # 去广告
  AdvertisingLite_Domain:
    type: http
    format: yaml
    behavior: domain
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite_Domain.yaml
    path: ./ruleset/AdvertisingLite_Domain.yaml

  # 巴哈姆特
  Bahamut:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml
    path: ./ruleset/Bahamut.yaml

  # Netflix
  Netflix:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
    path: ./ruleset/Netflix.yaml

  Netflix_IP:
    type: http
    format: yaml
    behavior: ipcidr
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix_IP.yaml
    path: ./ruleset/Netflix_IP.yaml

  # AI相关
  Gemini:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml
    path: ./ruleset/Gemini.yaml

  Copilot:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Copilot/Copilot.yaml
    path: ./ruleset/Copilot.yaml

  Claude:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml
    path: ./ruleset/Claude.yaml

  BardAI:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BardAI/BardAI.yaml
    path: ./ruleset/BardAI.yaml

  OpenAI:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
    path: ./ruleset/OpenAI.yaml

  # 中国大陆域名和IP
  ChinaMax_Domain:
    type: http
    format: yaml
    behavior: domain
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Domain.yaml
    path: ./ruleset/ChinaMax_Domain.yaml

  ChinaMax_IP:
    type: http
    format: yaml
    behavior: ipcidr
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_IP.yaml
    path: ./ruleset/ChinaMax_IP.yaml

  # 谷歌IP
  GoogleIP:
    type: http
    format: yaml
    behavior: ipcidr
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.yaml
    path: ./ruleset/GoogleIP.yaml

  # 谷歌域名
  Google:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    path: ./ruleset/Google.yaml

  # YouTube
  YouTube:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
    path: ./ruleset/YouTube.yaml

  YouTubeMusic:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTubeMusic/YouTubeMusic.yaml
    path: ./ruleset/YouTubeMusic.yaml

  # 非大陆域名
  geolocation-!cn:
    type: http
    format: yaml
    behavior: domain
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.yaml
    path: ./ruleset/geolocation-!cn.yaml

  # 电报
  Telegram:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    path: ./ruleset/Telegram.yaml

  # Steam
  Steam:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml
    path: ./ruleset/Steam.yaml

  SteamCN_No_Resolve:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN_No_Resolve.yaml
    path: ./ruleset/SteamCN_No_Resolve.yaml

  # Apple
  Apple_No_Resolve:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_No_Resolve.yaml
    path: ./ruleset/Apple_No_Resolve.yaml

  Apple_Domain:
    type: http
    format: yaml
    behavior: domain
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Domain.yaml
    path: ./ruleset/Apple_Domain.yaml

  # Microsoft
  Microsoft_No_Resolve:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft_No_Resolve.yaml
    path: ./ruleset/Microsoft_No_Resolve.yaml

  # 局域网
  Lan_No_Resolve:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan_No_Resolve.yaml
    path: ./ruleset/Lan_No_Resolve.yaml

  # 应用程序
  applications:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/vanchKong/proxy-rules/refs/heads/main/applications-rules.txt
    path: ./ruleset/applications.yaml

  # Github
  Github:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
    path: ./ruleset/GitHub.yaml

  # PT站点
  PrivateTracker:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PrivateTracker/PrivateTracker.yaml

  # 自定义代理规则
  custom-proxy:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/vanchKong/proxy-rules/refs/heads/main/custom-proxy-rules.txt
    path: ./ruleset/custom-proxy.yaml

  # 自定义直连规则
  custom-direct:
    type: http
    format: yaml
    behavior: classical
    interval: 86400
    url: https://ghproxy.net/https://raw.githubusercontent.com/vanchKong/proxy-rules/refs/heads/main/custom-direct-rules.txt
    path: ./ruleset/custom-direct.yaml

# 规则配置
rules:
  - RULE-SET,prevent_dns_leak,漏网之鱼 🐟
  - RULE-SET,custom-proxy,地区选择 🌍
  - RULE-SET,custom-direct,全局直连 🏠
  - RULE-SET,PrivateTracker,全局直连 🏠
  - RULE-SET,applications,全局直连 🏠
  - RULE-SET,Lan_No_Resolve,全局直连 🏠
  - RULE-SET,AdvertisingLite_Domain,全局拦截 🚧
  - RULE-SET,Microsoft_No_Resolve,微软服务 Ⓜ️
  - RULE-SET,Apple_No_Resolve,苹果服务 🍎
  - RULE-SET,Apple_Domain,苹果服务 🍎
  - RULE-SET,SteamCN_No_Resolve,全局直连 🏠
  - RULE-SET,Steam,蒸汽平台 🎮
  - RULE-SET,Bahamut,巴哈姆特 📺
  - RULE-SET,Netflix,奈飞服务 📺
  - RULE-SET,Netflix_IP,奈飞服务 📺
  - RULE-SET,Gemini,人工智能 🤖
  - RULE-SET,Copilot,人工智能 🤖
  - RULE-SET,Claude,人工智能 🤖
  - RULE-SET,BardAI,人工智能 🤖
  - RULE-SET,OpenAI,人工智能 🤖
  - RULE-SET,Telegram,电报服务 💬
  - RULE-SET,Google,谷歌服务 🇺🇸
  - RULE-SET,GoogleIP,谷歌服务 🇺🇸
  - RULE-SET,YouTube,谷歌服务 🇺🇸
  - RULE-SET,YouTubeMusic,谷歌服务 🇺🇸
  - RULE-SET,Github,地区选择 🌍
  - RULE-SET,geolocation-!cn,地区选择 🌍
  - RULE-SET,ChinaMax_Domain,全局直连 🏠
  - RULE-SET,ChinaMax_IP,全局直连 🏠,no-resolve
  - MATCH,漏网之鱼 🐟

